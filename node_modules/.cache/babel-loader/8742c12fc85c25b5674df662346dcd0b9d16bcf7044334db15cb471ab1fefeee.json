{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Loader = EnyoLoader;\nexports[\"default\"] = void 0;\nvar _util = require(\"@enact/core/util\");\nvar _Loader = _interopRequireDefault(require(\"ilib/lib/Loader\"));\nvar _LocaleInfo = _interopRequireDefault(require(\"ilib/lib/LocaleInfo\"));\nvar _xhr = _interopRequireDefault(require(\"xhr\"));\nvar _zoneinfo = _interopRequireDefault(require(\"./zoneinfo\"));\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n} /* global XMLHttpRequest, ILIB_BASE_PATH, ILIB_RESOURCES_PATH, ILIB_ADDITIONAL_RESOURCES_PATH, ILIB_CACHE_ID */\nvar getImpl = function getImpl(url, callback, sync) {\n  if (typeof XMLHttpRequest !== 'undefined') {\n    _xhr[\"default\"].XMLHttpRequest = XMLHttpRequest || _xhr[\"default\"].XMLHttpRequest;\n    var req;\n    (0, _xhr[\"default\"])({\n      url: url,\n      sync: sync,\n      beforeSend: function beforeSend(r) {\n        return req = r;\n      }\n    }, function (err, resp, body) {\n      var error = err || resp.statusCode !== 200 && resp.statusCode;\n      // false failure from chrome and file:// urls\n      if (error && req.status === 0 && req.response.length > 0) {\n        body = req.response;\n        error = false;\n      }\n      var json = null;\n      try {\n        json = error ? null : JSON.parse(body);\n      } catch (e) {\n        error = 'Failed to parse ILIB JSON data';\n      }\n      callback(json, error);\n    });\n  } else {\n    callback(null, new Error('Not a web browser environment'));\n  }\n};\nvar getSync = function getSync(url, callback) {\n  return getImpl(url, callback, true);\n};\nvar get = (0, _util.memoize)(function (url) {\n  return new Promise(function (resolve, reject) {\n    getImpl(url, function (json, error) {\n      if (error) {\n        reject(error);\n      } else {\n        resolve(json);\n      }\n    }, false);\n  });\n});\nvar iLibBase = typeof ILIB_BASE_PATH === 'undefined' ? '/ilib' : ILIB_BASE_PATH;\nvar iLibResources = typeof ILIB_RESOURCES_PATH === 'undefined' ? '/locale' : ILIB_RESOURCES_PATH;\nvar cachePrefix = 'ENACT-ILIB-';\nvar cacheKey = cachePrefix + 'CACHE-ID';\nvar cacheID = typeof ILIB_CACHE_ID === 'undefined' ? '$ILIB' : ILIB_CACHE_ID;\nvar timeStampKey = 'l10n_timestamp';\nfunction EnyoLoader() {\n  this.base = iLibBase;\n  // TODO: full enyo.platform implementation for improved accuracy\n  if (typeof window === 'object' && typeof window.PalmSystem === 'object') {\n    this.webos = true;\n  }\n}\nEnyoLoader.prototype = new _Loader[\"default\"]();\nEnyoLoader.prototype.constructor = EnyoLoader;\nEnyoLoader.prototype._createZoneFile = function (path) {\n  var zone = path.substring(path.indexOf('zoneinfo'));\n\n  // remove the .json suffix to get the name of the zone\n  zone = zone.substring(0, zone.length - 5);\n  try {\n    var zif = new _zoneinfo[\"default\"]('/usr/share/' + zone);\n\n    // only get the info for this year. Later we can get the info\n    // for any historical or future year too\n    return zif.getIlibZoneInfo(new Date());\n  } catch (e) {\n    // no file, so just return nothing\n  }\n};\nEnyoLoader.prototype._pathjoin = function (_root, subpath) {\n  if (!_root || !_root.length) {\n    return subpath;\n  }\n  if (!subpath || !subpath.length) {\n    return _root;\n  }\n  return _root + (_root.charAt(_root.length - 1) !== '/' ? '/' : '') + subpath;\n};\n\n/**\n * Load the list of files asynchronously. This uses recursion in\n * order to create a queue of files that will be loaded serially.\n * Each layer, starting at the bottom, loads a file and then loads\n * the layer on top of it. The very top file on the stack will have\n * zero files to load, so instead it will be the one to call the\n * callback to notify the caller that all the content is loaded.\n *\n * @param {Array.<string>} paths array of strings containing relative paths for required locale data\n *\tfiles\n * @param {Array} results empty array in which to place the resulting json when it is loaded from a\n *\tfile\n * @param {Object} params An object full of parameters that the caller is passing to this function\n *\tto help load the files\n * @param {function(Array.<Object>)} callback callback to call when this function is finished\n *\tattempting to load all the files that exist and can be loaded\n *\n * @returns {Promise}\n */\nEnyoLoader.prototype._loadFilesAsync = function (path, params, cache, rootPath) {\n  var _this = this;\n  var _root = iLibResources;\n  if (typeof rootPath !== 'undefined') {\n    _root = rootPath;\n  } else if (params && typeof params.root !== 'undefined') {\n    _root = params.root; // Deprecated; to be removed in future\n  }\n\n  var cacheItem = cache.data.shift(),\n    url;\n  if (this.webos && path.indexOf('zoneinfo') !== -1) {\n    // TODO: Sort out async zone file loading\n    return this._createZoneFile(path);\n  } else if (cacheItem) {\n    return Promise.resolve(cacheItem);\n  }\n  return this.loadManifests(_root).then(function () {\n    var isRootAvailable = _this.isAvailable(_root, path);\n    if (isRootAvailable) {\n      url = _this._pathjoin(_root, path);\n    } else {\n      var localeBase = _this._pathjoin(_this.base, 'locale');\n      var isBaseAvailable = _this.isAvailable(localeBase, path);\n      if (isBaseAvailable) {\n        url = _this._pathjoin(localeBase, path);\n      }\n    }\n    if (url) {\n      return get(url).then(function (json) {\n        if (typeof json === 'object') {\n          cache.update = true;\n          return json;\n        } else if (path === 'localeinfo.json') {\n          return _LocaleInfo[\"default\"].defaultInfo;\n        }\n      });\n    }\n    return null;\n  });\n};\nEnyoLoader.prototype._loadFilesCache = function (_root, paths) {\n  this._validateCache();\n  if (typeof window !== 'undefined' && window.localStorage && paths.length > 0) {\n    var stored = window.localStorage.getItem(cachePrefix + _root + '/' + paths[0]);\n    if (stored) {\n      var target = JSON.stringify(paths);\n      var data = JSON.parse(stored);\n      if (data.target === target) {\n        return data.value;\n      } else {\n        window.localStorage.removeItem(cachePrefix + _root + '/' + paths[0]);\n      }\n    }\n  }\n  return new Array(paths.length);\n};\nEnyoLoader.prototype._storeFilesCache = function (_root, paths, data) {\n  if (typeof window !== 'undefined' && window.localStorage && paths.length > 0) {\n    var target = JSON.stringify(paths);\n    window.localStorage.setItem(cachePrefix + _root + '/' + paths[0], JSON.stringify({\n      target: target,\n      value: data\n    }));\n  }\n};\nEnyoLoader.prototype._clearStringsCache = function () {\n  if (typeof window !== 'undefined' && window.localStorage) {\n    // Remove cache of app's strings\n    for (var i = 0; i < window.localStorage.length; i++) {\n      var currentKey = window.localStorage.key(i);\n      if (currentKey.includes('strings.json')) {\n        window.localStorage.removeItem(currentKey);\n      }\n    }\n  }\n};\nEnyoLoader.prototype._validateCache = function () {\n  if (!this._cacheValidated && typeof window !== 'undefined' && window.localStorage) {\n    var activeID = window.localStorage.getItem(cacheKey);\n    if (activeID !== cacheID) {\n      for (var i = 0; i < window.localStorage.length; i++) {\n        var key = window.localStorage.key(i);\n        if (key.indexOf(cachePrefix) === 0) {\n          window.localStorage.removeItem(key);\n          i--;\n        }\n      }\n      window.localStorage.setItem(cacheKey, cacheID);\n    }\n  }\n  this._cacheValidated = true;\n};\nEnyoLoader.prototype.loadFiles = function (paths, sync, params, callback, rootPath) {\n  var _this2 = this;\n  var _root = iLibResources;\n  if (typeof rootPath !== 'undefined') {\n    _root = rootPath;\n  } else if (params && typeof params.root !== 'undefined') {\n    _root = params.root; // Deprecated; to be removed in future\n  }\n\n  if (sync) {\n    this.loadManifestsSync(_root);\n    if (this.addPaths && Array.isArray(this.addPaths)) {\n      var _iterator = _createForOfIteratorHelper(this.addPaths),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var addedRoot = _step.value;\n          this.loadManifestsSync(addedRoot);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n    var cache = {\n      data: this._loadFilesCache(_root, paths)\n    };\n    var ret = [];\n    var locdata = this._pathjoin(this.base, 'locale');\n    // synchronous\n    paths.forEach(function (path, index) {\n      if (this.webos && path.indexOf('zoneinfo') !== -1) {\n        ret.push(this._createZoneFile(path));\n      } else if (cache.data[index]) {\n        ret.push(cache.data[index]);\n      } else {\n        var found = false;\n        var handler = function handler(json, err) {\n          if (!err && typeof json === 'object') {\n            cache.update = true;\n            ret.push(json);\n            found = true;\n          }\n        };\n        var handleAdditionalResourcesPath = function handleAdditionalResourcesPath(json, err) {\n          if (!err && typeof json === 'object') {\n            if (found) {\n              // Overwrite the _root/path result\n              Object.assign(ret[ret.length - 1], json);\n            } else {\n              // This case is where the file is only in the additional resources path\n              cache.update = true;\n              ret.push(json);\n              found = true;\n            }\n          }\n        };\n        if (this.isAvailable(_root, path)) {\n          getSync(this._pathjoin(_root, path), handler);\n        }\n        if (this.addPaths && Array.isArray(this.addPaths)) {\n          var _iterator2 = _createForOfIteratorHelper(this.addPaths),\n            _step2;\n          try {\n            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n              var _addedRoot = _step2.value;\n              if (this.isAvailable(_addedRoot, path)) {\n                getSync(this._pathjoin(_addedRoot, path), handleAdditionalResourcesPath);\n              }\n            }\n          } catch (err) {\n            _iterator2.e(err);\n          } finally {\n            _iterator2.f();\n          }\n        }\n        if (!found && this.isAvailable(locdata, path)) {\n          getSync(this._pathjoin(locdata, path), handler);\n        }\n        if (!found) {\n          if (path === 'localeinfo.json') {\n            // Use default locale info when xhr on root localeinfo.json fails/skips\n            ret.push(_LocaleInfo[\"default\"].defaultInfo);\n          } else {\n            // not there, so fill in a blank entry in the array\n            // eslint-disable-next-line no-undefined\n            ret.push(undefined);\n          }\n        }\n      }\n    }.bind(this));\n    if (cache.update) {\n      this._storeFilesCache(_root, paths, ret);\n    }\n    if (typeof callback === 'function') {\n      callback.call(this, ret);\n    }\n    return ret;\n  } else {\n    // asynchronous\n    var _cache = {\n      data: this._loadFilesCache(_root, paths)\n    };\n    Promise.all(paths.map(function (path) {\n      return _this2._loadFilesAsync(path, params, _cache, rootPath);\n    })).then(function (results) {\n      if (_cache.update) {\n        _this2._storeFilesCache(_root, paths, results);\n      }\n      if (typeof callback === 'function') {\n        callback.call(_this2, results);\n      }\n    });\n  }\n};\nEnyoLoader.prototype._handleManifest = function (dirpath, filepath, json) {\n  var isAdditionalPath = typeof ILIB_ADDITIONAL_RESOURCES_PATH !== 'undefined' ? dirpath.includes(ILIB_ADDITIONAL_RESOURCES_PATH) : false;\n  // star indicates there was no ilibmanifest.json, so always try to load files from\n  // that dir\n  if (json != null) {\n    if (typeof window !== 'undefined' && window.localStorage) {\n      window.localStorage.setItem(cachePrefix + filepath, JSON.stringify(json));\n    }\n\n    // Need to clear string cache\n    this._clearStringsCache();\n    this.manifest[dirpath] = json.files;\n  } else if (isAdditionalPath) {\n    // If the path is an ilib additional resources path and json is null then make it null\n    // so that we prevent loading everything.\n    this.manifest[dirpath] = [];\n    if (typeof window !== 'undefined' && window.localStorage) {\n      window.localStorage.setItem(cachePrefix + filepath, JSON.stringify(_defineProperty({}, timeStampKey, new Date().getTime())));\n    }\n  } else {\n    this.manifest[dirpath] = '*';\n  }\n  return this.manifest[dirpath];\n};\nEnyoLoader.prototype._validateManifest = function (cachedManifest, filepath, sync) {\n  if (cachedManifest) {\n    var cachedTimeStamp = JSON.parse(cachedManifest)[timeStampKey];\n    if (cachedTimeStamp) {\n      var newManifest;\n      if (sync) {\n        getSync(filepath, function (json) {\n          newManifest = json;\n        });\n      } else {\n        get(filepath).then(function (json) {\n          newManifest = json;\n        });\n      }\n      if (newManifest === null && typeof ILIB_ADDITIONAL_RESOURCES_PATH !== 'undefined' && filepath.includes(ILIB_ADDITIONAL_RESOURCES_PATH)) {\n        // If new manifest is null and the filepath has ILIB_ADDITIONAL_RESOURCES_PATH,\n        // meaning we need to clear string cache\n        this._clearStringsCache();\n        return false;\n      } else if (newManifest && newManifest[timeStampKey]) {\n        // If new manifest has timestamp, compare old one and see if it's the same\n        return cachedTimeStamp === newManifest[timeStampKey];\n      } else {\n        return false;\n      }\n    } else {\n      // Use cachedManifest as usual\n      return true;\n    }\n  }\n  return false;\n};\nEnyoLoader.prototype._loadManifest = function (_root, subpath, sync) {\n  var _this3 = this;\n  if (!this.manifest) {\n    this.manifest = {};\n  }\n  var dirpath = this._pathjoin(_root, subpath);\n  var filepath = this._pathjoin(dirpath, 'ilibmanifest.json');\n  var cachedManifest;\n  if (typeof window !== 'undefined' && window.localStorage) {\n    cachedManifest = window.localStorage.getItem(cachePrefix + filepath);\n  }\n  if (this._validateManifest(cachedManifest, filepath, sync)) {\n    this.manifest[dirpath] = JSON.parse(cachedManifest).files;\n    return sync ? this.manifest[dirpath] : Promise.resolve(this.manifest[dirpath]);\n  }\n  if (sync) {\n    getSync(filepath, function (json) {\n      _this3._handleManifest(dirpath, filepath, json);\n    });\n    return;\n  }\n  return get(filepath).then(function (json) {\n    return _this3._handleManifest(dirpath, filepath, json);\n  });\n};\nEnyoLoader.prototype.loadManifests = function (_root) {\n  this._validateCache();\n  return Promise.all([\n  // standard ilib locale data\n  this._loadManifest(this.base, 'locale'),\n  // the app's resources dir\n  this._loadManifest('', iLibResources),\n  // maybe it's a custom root? If so, try to load\n  // the manifest file first in case it is there\n  this._loadManifest(_root, '')]);\n};\nEnyoLoader.prototype.loadManifestsSync = function (_root) {\n  // load standard manifests\n  if (!this.manifest) {\n    this._validateCache();\n    this._loadManifest(this.base, 'locale', true); // standard ilib locale data\n    this._loadManifest('', iLibResources, true); // the app's resources dir\n  }\n\n  if (!this.manifest[_root]) {\n    // maybe it's a custom root? If so, try to load\n    // the manifest file first in case it is there\n    this._loadManifest(_root, '', true);\n  }\n};\nEnyoLoader.prototype.isAvailable = function (_root, path) {\n  // util.print('enyo loader: isAvailable ' + path + '? ');\n  // star means attempt to load everything because there was no manifest in that dir\n  if (this.manifest[_root] === '*' || this.manifest[_root] && this.manifest[_root].indexOf(path) !== -1) {\n    // util.print('true\\n');\n    return true;\n  }\n\n  // util.print('false\\n');\n  return false;\n};\nvar _default = EnyoLoader;\nexports[\"default\"] = _default;","map":{"version":3,"names":["Object","defineProperty","exports","value","Loader","EnyoLoader","_util","require","_Loader","_interopRequireDefault","_LocaleInfo","_xhr","_zoneinfo","obj","__esModule","_defineProperty","key","_toPropertyKey","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","_createForOfIteratorHelper","o","allowArrayLike","it","iterator","Array","isArray","_unsupportedIterableToArray","length","i","F","s","n","done","e","_e","f","normalCompletion","didErr","err","step","next","_e2","minLen","_arrayLikeToArray","prototype","toString","slice","constructor","name","from","test","arr","len","arr2","getImpl","url","callback","sync","XMLHttpRequest","req","beforeSend","r","resp","body","error","statusCode","status","response","json","JSON","parse","Error","getSync","get","memoize","Promise","resolve","reject","iLibBase","ILIB_BASE_PATH","iLibResources","ILIB_RESOURCES_PATH","cachePrefix","cacheKey","cacheID","ILIB_CACHE_ID","timeStampKey","base","window","PalmSystem","webos","_createZoneFile","path","zone","substring","indexOf","zif","getIlibZoneInfo","Date","_pathjoin","_root","subpath","charAt","_loadFilesAsync","params","cache","rootPath","_this","root","cacheItem","data","shift","loadManifests","then","isRootAvailable","isAvailable","localeBase","isBaseAvailable","update","defaultInfo","_loadFilesCache","paths","_validateCache","localStorage","stored","getItem","target","stringify","removeItem","_storeFilesCache","setItem","_clearStringsCache","currentKey","includes","_cacheValidated","activeID","loadFiles","_this2","loadManifestsSync","addPaths","_iterator","_step","addedRoot","ret","locdata","forEach","index","push","found","handler","handleAdditionalResourcesPath","assign","_iterator2","_step2","_addedRoot","bind","_cache","all","map","results","_handleManifest","dirpath","filepath","isAdditionalPath","ILIB_ADDITIONAL_RESOURCES_PATH","manifest","files","getTime","_validateManifest","cachedManifest","cachedTimeStamp","newManifest","_loadManifest","_this3","_default"],"sources":["/Users/gitchan/Projects/gitchan-yonsei/2024-enact-template/node_modules/@enact/i18n/src/Loader.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Loader = EnyoLoader;\nexports[\"default\"] = void 0;\nvar _util = require(\"@enact/core/util\");\nvar _Loader = _interopRequireDefault(require(\"ilib/lib/Loader\"));\nvar _LocaleInfo = _interopRequireDefault(require(\"ilib/lib/LocaleInfo\"));\nvar _xhr = _interopRequireDefault(require(\"xhr\"));\nvar _zoneinfo = _interopRequireDefault(require(\"./zoneinfo\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; } /* global XMLHttpRequest, ILIB_BASE_PATH, ILIB_RESOURCES_PATH, ILIB_ADDITIONAL_RESOURCES_PATH, ILIB_CACHE_ID */\nvar getImpl = function getImpl(url, callback, sync) {\n  if (typeof XMLHttpRequest !== 'undefined') {\n    _xhr[\"default\"].XMLHttpRequest = XMLHttpRequest || _xhr[\"default\"].XMLHttpRequest;\n    var req;\n    (0, _xhr[\"default\"])({\n      url: url,\n      sync: sync,\n      beforeSend: function beforeSend(r) {\n        return req = r;\n      }\n    }, function (err, resp, body) {\n      var error = err || resp.statusCode !== 200 && resp.statusCode;\n      // false failure from chrome and file:// urls\n      if (error && req.status === 0 && req.response.length > 0) {\n        body = req.response;\n        error = false;\n      }\n      var json = null;\n      try {\n        json = error ? null : JSON.parse(body);\n      } catch (e) {\n        error = 'Failed to parse ILIB JSON data';\n      }\n      callback(json, error);\n    });\n  } else {\n    callback(null, new Error('Not a web browser environment'));\n  }\n};\nvar getSync = function getSync(url, callback) {\n  return getImpl(url, callback, true);\n};\nvar get = (0, _util.memoize)(function (url) {\n  return new Promise(function (resolve, reject) {\n    getImpl(url, function (json, error) {\n      if (error) {\n        reject(error);\n      } else {\n        resolve(json);\n      }\n    }, false);\n  });\n});\nvar iLibBase = typeof ILIB_BASE_PATH === 'undefined' ? '/ilib' : ILIB_BASE_PATH;\nvar iLibResources = typeof ILIB_RESOURCES_PATH === 'undefined' ? '/locale' : ILIB_RESOURCES_PATH;\nvar cachePrefix = 'ENACT-ILIB-';\nvar cacheKey = cachePrefix + 'CACHE-ID';\nvar cacheID = typeof ILIB_CACHE_ID === 'undefined' ? '$ILIB' : ILIB_CACHE_ID;\nvar timeStampKey = 'l10n_timestamp';\nfunction EnyoLoader() {\n  this.base = iLibBase;\n  // TODO: full enyo.platform implementation for improved accuracy\n  if (typeof window === 'object' && typeof window.PalmSystem === 'object') {\n    this.webos = true;\n  }\n}\nEnyoLoader.prototype = new _Loader[\"default\"]();\nEnyoLoader.prototype.constructor = EnyoLoader;\nEnyoLoader.prototype._createZoneFile = function (path) {\n  var zone = path.substring(path.indexOf('zoneinfo'));\n\n  // remove the .json suffix to get the name of the zone\n  zone = zone.substring(0, zone.length - 5);\n  try {\n    var zif = new _zoneinfo[\"default\"]('/usr/share/' + zone);\n\n    // only get the info for this year. Later we can get the info\n    // for any historical or future year too\n    return zif.getIlibZoneInfo(new Date());\n  } catch (e) {\n    // no file, so just return nothing\n  }\n};\nEnyoLoader.prototype._pathjoin = function (_root, subpath) {\n  if (!_root || !_root.length) {\n    return subpath;\n  }\n  if (!subpath || !subpath.length) {\n    return _root;\n  }\n  return _root + (_root.charAt(_root.length - 1) !== '/' ? '/' : '') + subpath;\n};\n\n/**\n * Load the list of files asynchronously. This uses recursion in\n * order to create a queue of files that will be loaded serially.\n * Each layer, starting at the bottom, loads a file and then loads\n * the layer on top of it. The very top file on the stack will have\n * zero files to load, so instead it will be the one to call the\n * callback to notify the caller that all the content is loaded.\n *\n * @param {Array.<string>} paths array of strings containing relative paths for required locale data\n *\tfiles\n * @param {Array} results empty array in which to place the resulting json when it is loaded from a\n *\tfile\n * @param {Object} params An object full of parameters that the caller is passing to this function\n *\tto help load the files\n * @param {function(Array.<Object>)} callback callback to call when this function is finished\n *\tattempting to load all the files that exist and can be loaded\n *\n * @returns {Promise}\n */\nEnyoLoader.prototype._loadFilesAsync = function (path, params, cache, rootPath) {\n  var _this = this;\n  var _root = iLibResources;\n  if (typeof rootPath !== 'undefined') {\n    _root = rootPath;\n  } else if (params && typeof params.root !== 'undefined') {\n    _root = params.root; // Deprecated; to be removed in future\n  }\n\n  var cacheItem = cache.data.shift(),\n    url;\n  if (this.webos && path.indexOf('zoneinfo') !== -1) {\n    // TODO: Sort out async zone file loading\n    return this._createZoneFile(path);\n  } else if (cacheItem) {\n    return Promise.resolve(cacheItem);\n  }\n  return this.loadManifests(_root).then(function () {\n    var isRootAvailable = _this.isAvailable(_root, path);\n    if (isRootAvailable) {\n      url = _this._pathjoin(_root, path);\n    } else {\n      var localeBase = _this._pathjoin(_this.base, 'locale');\n      var isBaseAvailable = _this.isAvailable(localeBase, path);\n      if (isBaseAvailable) {\n        url = _this._pathjoin(localeBase, path);\n      }\n    }\n    if (url) {\n      return get(url).then(function (json) {\n        if (typeof json === 'object') {\n          cache.update = true;\n          return json;\n        } else if (path === 'localeinfo.json') {\n          return _LocaleInfo[\"default\"].defaultInfo;\n        }\n      });\n    }\n    return null;\n  });\n};\nEnyoLoader.prototype._loadFilesCache = function (_root, paths) {\n  this._validateCache();\n  if (typeof window !== 'undefined' && window.localStorage && paths.length > 0) {\n    var stored = window.localStorage.getItem(cachePrefix + _root + '/' + paths[0]);\n    if (stored) {\n      var target = JSON.stringify(paths);\n      var data = JSON.parse(stored);\n      if (data.target === target) {\n        return data.value;\n      } else {\n        window.localStorage.removeItem(cachePrefix + _root + '/' + paths[0]);\n      }\n    }\n  }\n  return new Array(paths.length);\n};\nEnyoLoader.prototype._storeFilesCache = function (_root, paths, data) {\n  if (typeof window !== 'undefined' && window.localStorage && paths.length > 0) {\n    var target = JSON.stringify(paths);\n    window.localStorage.setItem(cachePrefix + _root + '/' + paths[0], JSON.stringify({\n      target: target,\n      value: data\n    }));\n  }\n};\nEnyoLoader.prototype._clearStringsCache = function () {\n  if (typeof window !== 'undefined' && window.localStorage) {\n    // Remove cache of app's strings\n    for (var i = 0; i < window.localStorage.length; i++) {\n      var currentKey = window.localStorage.key(i);\n      if (currentKey.includes('strings.json')) {\n        window.localStorage.removeItem(currentKey);\n      }\n    }\n  }\n};\nEnyoLoader.prototype._validateCache = function () {\n  if (!this._cacheValidated && typeof window !== 'undefined' && window.localStorage) {\n    var activeID = window.localStorage.getItem(cacheKey);\n    if (activeID !== cacheID) {\n      for (var i = 0; i < window.localStorage.length; i++) {\n        var key = window.localStorage.key(i);\n        if (key.indexOf(cachePrefix) === 0) {\n          window.localStorage.removeItem(key);\n          i--;\n        }\n      }\n      window.localStorage.setItem(cacheKey, cacheID);\n    }\n  }\n  this._cacheValidated = true;\n};\nEnyoLoader.prototype.loadFiles = function (paths, sync, params, callback, rootPath) {\n  var _this2 = this;\n  var _root = iLibResources;\n  if (typeof rootPath !== 'undefined') {\n    _root = rootPath;\n  } else if (params && typeof params.root !== 'undefined') {\n    _root = params.root; // Deprecated; to be removed in future\n  }\n\n  if (sync) {\n    this.loadManifestsSync(_root);\n    if (this.addPaths && Array.isArray(this.addPaths)) {\n      var _iterator = _createForOfIteratorHelper(this.addPaths),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var addedRoot = _step.value;\n          this.loadManifestsSync(addedRoot);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n    var cache = {\n      data: this._loadFilesCache(_root, paths)\n    };\n    var ret = [];\n    var locdata = this._pathjoin(this.base, 'locale');\n    // synchronous\n    paths.forEach(function (path, index) {\n      if (this.webos && path.indexOf('zoneinfo') !== -1) {\n        ret.push(this._createZoneFile(path));\n      } else if (cache.data[index]) {\n        ret.push(cache.data[index]);\n      } else {\n        var found = false;\n        var handler = function handler(json, err) {\n          if (!err && typeof json === 'object') {\n            cache.update = true;\n            ret.push(json);\n            found = true;\n          }\n        };\n        var handleAdditionalResourcesPath = function handleAdditionalResourcesPath(json, err) {\n          if (!err && typeof json === 'object') {\n            if (found) {\n              // Overwrite the _root/path result\n              Object.assign(ret[ret.length - 1], json);\n            } else {\n              // This case is where the file is only in the additional resources path\n              cache.update = true;\n              ret.push(json);\n              found = true;\n            }\n          }\n        };\n        if (this.isAvailable(_root, path)) {\n          getSync(this._pathjoin(_root, path), handler);\n        }\n        if (this.addPaths && Array.isArray(this.addPaths)) {\n          var _iterator2 = _createForOfIteratorHelper(this.addPaths),\n            _step2;\n          try {\n            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n              var _addedRoot = _step2.value;\n              if (this.isAvailable(_addedRoot, path)) {\n                getSync(this._pathjoin(_addedRoot, path), handleAdditionalResourcesPath);\n              }\n            }\n          } catch (err) {\n            _iterator2.e(err);\n          } finally {\n            _iterator2.f();\n          }\n        }\n        if (!found && this.isAvailable(locdata, path)) {\n          getSync(this._pathjoin(locdata, path), handler);\n        }\n        if (!found) {\n          if (path === 'localeinfo.json') {\n            // Use default locale info when xhr on root localeinfo.json fails/skips\n            ret.push(_LocaleInfo[\"default\"].defaultInfo);\n          } else {\n            // not there, so fill in a blank entry in the array\n            // eslint-disable-next-line no-undefined\n            ret.push(undefined);\n          }\n        }\n      }\n    }.bind(this));\n    if (cache.update) {\n      this._storeFilesCache(_root, paths, ret);\n    }\n    if (typeof callback === 'function') {\n      callback.call(this, ret);\n    }\n    return ret;\n  } else {\n    // asynchronous\n    var _cache = {\n      data: this._loadFilesCache(_root, paths)\n    };\n    Promise.all(paths.map(function (path) {\n      return _this2._loadFilesAsync(path, params, _cache, rootPath);\n    })).then(function (results) {\n      if (_cache.update) {\n        _this2._storeFilesCache(_root, paths, results);\n      }\n      if (typeof callback === 'function') {\n        callback.call(_this2, results);\n      }\n    });\n  }\n};\nEnyoLoader.prototype._handleManifest = function (dirpath, filepath, json) {\n  var isAdditionalPath = typeof ILIB_ADDITIONAL_RESOURCES_PATH !== 'undefined' ? dirpath.includes(ILIB_ADDITIONAL_RESOURCES_PATH) : false;\n  // star indicates there was no ilibmanifest.json, so always try to load files from\n  // that dir\n  if (json != null) {\n    if (typeof window !== 'undefined' && window.localStorage) {\n      window.localStorage.setItem(cachePrefix + filepath, JSON.stringify(json));\n    }\n\n    // Need to clear string cache\n    this._clearStringsCache();\n    this.manifest[dirpath] = json.files;\n  } else if (isAdditionalPath) {\n    // If the path is an ilib additional resources path and json is null then make it null\n    // so that we prevent loading everything.\n    this.manifest[dirpath] = [];\n    if (typeof window !== 'undefined' && window.localStorage) {\n      window.localStorage.setItem(cachePrefix + filepath, JSON.stringify(_defineProperty({}, timeStampKey, new Date().getTime())));\n    }\n  } else {\n    this.manifest[dirpath] = '*';\n  }\n  return this.manifest[dirpath];\n};\nEnyoLoader.prototype._validateManifest = function (cachedManifest, filepath, sync) {\n  if (cachedManifest) {\n    var cachedTimeStamp = JSON.parse(cachedManifest)[timeStampKey];\n    if (cachedTimeStamp) {\n      var newManifest;\n      if (sync) {\n        getSync(filepath, function (json) {\n          newManifest = json;\n        });\n      } else {\n        get(filepath).then(function (json) {\n          newManifest = json;\n        });\n      }\n      if (newManifest === null && typeof ILIB_ADDITIONAL_RESOURCES_PATH !== 'undefined' && filepath.includes(ILIB_ADDITIONAL_RESOURCES_PATH)) {\n        // If new manifest is null and the filepath has ILIB_ADDITIONAL_RESOURCES_PATH,\n        // meaning we need to clear string cache\n        this._clearStringsCache();\n        return false;\n      } else if (newManifest && newManifest[timeStampKey]) {\n        // If new manifest has timestamp, compare old one and see if it's the same\n        return cachedTimeStamp === newManifest[timeStampKey];\n      } else {\n        return false;\n      }\n    } else {\n      // Use cachedManifest as usual\n      return true;\n    }\n  }\n  return false;\n};\nEnyoLoader.prototype._loadManifest = function (_root, subpath, sync) {\n  var _this3 = this;\n  if (!this.manifest) {\n    this.manifest = {};\n  }\n  var dirpath = this._pathjoin(_root, subpath);\n  var filepath = this._pathjoin(dirpath, 'ilibmanifest.json');\n  var cachedManifest;\n  if (typeof window !== 'undefined' && window.localStorage) {\n    cachedManifest = window.localStorage.getItem(cachePrefix + filepath);\n  }\n  if (this._validateManifest(cachedManifest, filepath, sync)) {\n    this.manifest[dirpath] = JSON.parse(cachedManifest).files;\n    return sync ? this.manifest[dirpath] : Promise.resolve(this.manifest[dirpath]);\n  }\n  if (sync) {\n    getSync(filepath, function (json) {\n      _this3._handleManifest(dirpath, filepath, json);\n    });\n    return;\n  }\n  return get(filepath).then(function (json) {\n    return _this3._handleManifest(dirpath, filepath, json);\n  });\n};\nEnyoLoader.prototype.loadManifests = function (_root) {\n  this._validateCache();\n  return Promise.all([\n  // standard ilib locale data\n  this._loadManifest(this.base, 'locale'),\n  // the app's resources dir\n  this._loadManifest('', iLibResources),\n  // maybe it's a custom root? If so, try to load\n  // the manifest file first in case it is there\n  this._loadManifest(_root, '')]);\n};\nEnyoLoader.prototype.loadManifestsSync = function (_root) {\n  // load standard manifests\n  if (!this.manifest) {\n    this._validateCache();\n    this._loadManifest(this.base, 'locale', true); // standard ilib locale data\n    this._loadManifest('', iLibResources, true); // the app's resources dir\n  }\n\n  if (!this.manifest[_root]) {\n    // maybe it's a custom root? If so, try to load\n    // the manifest file first in case it is there\n    this._loadManifest(_root, '', true);\n  }\n};\nEnyoLoader.prototype.isAvailable = function (_root, path) {\n  // util.print('enyo loader: isAvailable ' + path + '? ');\n  // star means attempt to load everything because there was no manifest in that dir\n  if (this.manifest[_root] === '*' || this.manifest[_root] && this.manifest[_root].indexOf(path) !== -1) {\n    // util.print('true\\n');\n    return true;\n  }\n\n  // util.print('false\\n');\n  return false;\n};\nvar _default = EnyoLoader;\nexports[\"default\"] = _default;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}